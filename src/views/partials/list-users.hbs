<div class="columns is-multiline">
  <!-- if to check if there are in fact users to list -->
  {{#if users}}
  <div class="column is-full">
    <div class="columns is-multiline">
      {{#each users}}
      <div class="column is-one-third">
        <div class="card">
          <header class="card-header">
            <p class="card-header-title is-centered">{{firstName}} {{lastName}}</p>
            <a class="card-header-icon" title="Expand/Collapse Details" aria-label="more options" data-action="collapse" href="#details-{{_id}}" onclick="toggleCollapse(event, 'details-{{_id}}')">
              <span class="icon">
                <i class="fas fa-angle-down" aria-hidden="true"></i>
              </span>
            </a>
          </header>
          <div class="card-content collapse" id="details-{{_id}}">
            <div class="content">
              <p><strong>First Name:</strong> {{firstName}}</p>
              <p><strong>Last Name:</strong> {{lastName}}</p>
              <p><strong>Email:</strong> {{email}}</p>
              <p><strong>Number of placemarks:</strong> {{placemarkCount}}</p>
            </div>
          </div>
          <footer class="card-footer">
            <a href="/admin/deleteuser/{{_id}}" title="Delete User" class="card-footer-item" onclick="return confirm('Are you sure you want to delete this user and their placemarks?');">
              <span class="icon has-text-danger">
                <i class="fas is-danger fa-trash"></i>
              </span>
            </a>
          </footer>
        </div>
      </div>
      {{/each}}
    </div>
  </div>
  <!-- else inform the admin that no users were found -->
  {{else}}
  <div class="column is-full">
    <div class="box">
      <p>No users found</p>
    </div>
  {{/if}}
</div>

<!-- script to hide the element which has its id passed when the event occurs (mouse click on down arrow in above dropdown card details) -->
<script>
  function toggleCollapse(event, id) {
    event.preventDefault();
    const content = document.getElementById(id);
    content.classList.toggle('is-hidden');
  }
</script>